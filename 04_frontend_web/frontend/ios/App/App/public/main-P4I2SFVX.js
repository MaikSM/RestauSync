import{a as n}from"./chunk-VC3IURHL.js";import{b as R}from"./chunk-7IX7VPDF.js";import"./chunk-DLFABNFZ.js";import{a as m}from"./chunk-YKSGIHVP.js";import{a as A,c as S,d as p,g as x}from"./chunk-BBMTBTDA.js";import{b as v,c as C,d as g}from"./chunk-IJHKA2LB.js";import"./chunk-IBNRR53B.js";import{Ja as h,Lb as d,R as o,Ua as f,db as l,n as u}from"./chunk-GQXGSY3T.js";import{e as a}from"./chunk-YEWEO3AL.js";var F=()=>a(void 0,null,function*(){let t=o(n),e=o(p),r=t.user();if(t.authStatus()==="authenticated"&&r?.role_id===1)return!0;let s=yield u(t.checkAuthStatus()),G=t.user();return s&&G?.role_id===1?!0:(e.navigateByUrl("/"),!1)});var k=()=>a(void 0,null,function*(){let t=o(n),e=o(p),r=yield u(t.checkAuthStatus()),i=t.user()?.role_id;return r&&i===4||e.navigateByUrl("/"),!0});var I=()=>a(void 0,null,function*(){let t=o(n),e=o(p);return(yield u(t.checkAuthStatus()))?(e.navigateByUrl("/"),!1):!0});var M=[{canMatch:[I],path:"auth",loadChildren:()=>import("./chunk-GNNYOXPF.js")},{canMatch:[F],path:"admin",loadChildren:()=>import("./chunk-ILZ5PDY7.js")},{canMatch:[k],path:"waiter",loadChildren:()=>import("./chunk-TXYS6QPG.js")},{path:"",loadChildren:()=>import("./chunk-TMKAWJUS.js")},{path:"**",title:"Not Found",loadComponent:()=>import("./chunk-YYY36PQQ.js")}];function y(t,e){let i=o(n).token();if(t.url.includes(`${m.apiUrl}/auth/login`)||t.url.includes(`${m.apiUrl}/auth/check-token`))return console.log("\u{1F510} AuthInterceptor: Skipping token for auth endpoint:",t.url),e(t);if(!i)return console.warn("\u26A0\uFE0F AuthInterceptor: No token available for request:",t.url),e(t);let s=t.clone({headers:t.headers.set("Authorization",`Bearer ${i}`)});return console.log("\u{1F510} AuthInterceptor: Adding token to request:",t.url),console.log("\u{1F511} Token length:",i.length),e(s)}var w={providers:[d({eventCoalescing:!0}),x(M),v(g(),C([y]))]};var c=class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=h({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[["position","top-right","richColors","","closeButton","",3,"expand"]],template:function(r,i){r&1&&l(0,"ngx-sonner-toaster",0)(1,"router-outlet"),r&2&&f("expand",!0)},dependencies:[S,R],encapsulation:2})};A(c,w).catch(t=>console.error(t));
